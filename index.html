<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Typing Competition System</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --bg-color: #f0f2f5;
            --text-color: #333;
            --success-color: #27ae60;
            --error-color: #c0392b;
            --warning-color: #f39c12;
        }

        body {
            font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            background: white;
            width: 100%;
            max-width: 1000px;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        h1, h2 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        /* Screen Visibility Control */
        .screen {
            display: none;
            animation: fadeIn 0.5s;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 15px;
        }

        label {
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
        }

        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1.1rem;
            font-family: "Courier New", Courier, monospace; /* Monospace is better for English typing alignment */
            resize: vertical;
            box-sizing: border-box;
            line-height: 1.6;
        }

        input[type="text"], input[type="number"] {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
            width: 100%;
            box-sizing: border-box;
            font-size: 1rem;
        }

        .row {
            display: flex;
            gap: 20px;
        }
        
        .col {
            flex: 1;
        }

        .btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            display: block;
            margin: 20px auto 0;
            width: 100%;
            max-width: 300px;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-danger {
            background-color: var(--error-color);
        }

        .btn-danger:hover {
            background-color: #a93226;
        }

        .btn-secondary {
            background-color: #95a5a6;
        }

        /* Game Screen Styles */
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #ecf0f1;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .timer-box {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--error-color);
            min-width: 100px;
            text-align: right;
        }

        .live-stats {
            display: flex;
            gap: 20px;
        }

        .live-stat-item {
            text-align: center;
        }

        .live-stat-value {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .live-stat-label {
            font-size: 0.8rem;
            color: #7f8c8d;
        }

        .text-display-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .reference-text {
            background-color: #fff;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            font-size: 1.3rem;
            line-height: 1.8;
            user-select: none;
            height: 200px;
            overflow-y: auto;
            border-left: 5px solid var(--accent-color);
            white-space: pre-wrap;
            font-family: "Courier New", Courier, monospace;
            /* Important for English: Break words correctly */
            word-wrap: break-word; 
            word-break: normal;
        }

        /* Real-time Highlighting */
        .hl-correct { color: var(--success-color); background-color: #e8f8f5; }
        .hl-wrong { color: white; background-color: var(--error-color); border-radius: 2px; }
        .hl-current { text-decoration: underline; text-decoration-color: var(--accent-color); text-decoration-thickness: 3px; background-color: #eaf2f8; }

        .input-area textarea {
            border-color: var(--accent-color);
            height: 150px;
        }

        /* Result Screen Styles */
        .final-score-box {
            background: linear-gradient(135deg, #f1c40f 0%, #f39c12 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(243, 156, 18, 0.3);
        }

        .final-score-value {
            font-size: 4rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #eee;
        }

        .stat-value { font-size: 2rem; font-weight: bold; color: var(--accent-color); }
        .stat-label { color: #7f8c8d; margin-top: 5px; font-size: 0.9rem; }

        /* Leaderboard Table */
        .leaderboard-section {
            margin-top: 30px;
            border-top: 2px solid #eee;
            padding-top: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f8f9fa;
            color: var(--primary-color);
        }

        tr:nth-child(even) { background-color: #fcfcfc; }
        
        .rank-1 { color: #d35400; font-weight: bold; }
        .rank-2 { color: #7f8c8d; font-weight: bold; }
        .rank-3 { color: #d35400; font-weight: bold; } 

        @media (max-width: 768px) {
            .game-header { flex-direction: column; gap: 10px; }
            .live-stats { width: 100%; justify-content: space-around; }
            .row { flex-direction: column; gap: 10px; }
        }
    </style>
</head>
<body>

<div class="container">
    <!-- 1. Setup Screen -->
    <div id="setup-screen" class="screen active">
        <h1>üèÜ English Typing Competition</h1>
        
        <div class="row">
            <div class="col form-group">
                <label for="student-name">Student Name:</label>
                <input type="text" id="student-name" placeholder="Enter your full name" required>
            </div>
            <div class="col form-group">
                <label for="time-limit">Time Limit (Minutes):</label>
                <input type="number" id="time-limit" value="1" min="1" max="60">
            </div>
        </div>

        <div class="form-group">
            <label for="article-input">Text to Type:</label>
            <textarea id="article-input" style="height: 150px;" placeholder="Paste your text here..." readonly disabled>Technology has revolutionized the way we live, work, and communicate. In the digital age, typing is an essential skill that everyone should master. Whether you are writing an email, coding a program, or chatting with friends, speed and accuracy matter. Practice is the key to improvement. Keep your fingers on the home row and try to look at the screen instead of the keyboard.</textarea>
        </div>

        <button class="btn" onclick="goToGame()">Start Competition</button>
        
        <div style="text-align: center; margin-top: 15px;">
            <a href="#" onclick="clearLeaderboard()" style="color: #999; font-size: 0.8rem;">Clear Leaderboard History</a>
        </div>
    </div>

    <!-- 2. Game Screen -->
    <div id="game-screen" class="screen">
        <div class="game-header">
            <div style="font-weight: bold; font-size: 1.2rem;" id="current-player-name">Player: ---</div>
            
            <!-- Feature 1: Real-time Stats -->
            <div class="live-stats">
                <div class="live-stat-item">
                    <div class="live-stat-value" id="live-speed">0</div>
                    <div class="live-stat-label">WPM</div>
                </div>
                <div class="live-stat-item">
                    <div class="live-stat-value" id="live-accuracy">100%</div>
                    <div class="live-stat-label">Accuracy</div>
                </div>
            </div>

            <div class="timer-box" id="timer-display">00:00</div>
        </div>
        
        <div class="text-display-area">
            <div>
                <label>Reference Text:</label>
                <div class="reference-text" id="game-reference-text"></div>
            </div>
            
            <div class="input-area">
                <label>Your Input:</label>
                <textarea id="student-input" placeholder="Start typing here..." spellcheck="false"></textarea>
            </div>
        </div>

        <button class="btn btn-danger" onclick="finishGame()">Submit / Finish</button>
    </div>

    <!-- 3. Result Screen -->
    <div id="result-screen" class="screen">
        <h1>üìä Competition Results</h1>
        
        <!-- Feature 2: Final Score Calculation -->
        <div class="final-score-box">
            <div style="font-size: 1.2rem; opacity: 0.9;">Total Score</div>
            <div class="final-score-value" id="final-score">0</div>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="res-name">---</div>
                <div class="stat-label">Name</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="res-speed">0</div>
                <div class="stat-label">Speed (WPM)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="res-accuracy">0%</div>
                <div class="stat-label">Accuracy</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="res-count">0</div>
                <div class="stat-label">Correct Chars</div>
            </div>
        </div>

        <!-- Feature 3: Leaderboard -->
        <div class="leaderboard-section">
            <h2>üèÜ Leaderboard (Top 10)</h2>
            <table id="leaderboard-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Name</th>
                        <th>Score</th>
                        <th>WPM</th>
                        <th>Accuracy</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Rows generated by JS -->
                </tbody>
            </table>
        </div>

        <!-- Âú®ÁªìÊûúÂ±èÂπïÁöÑÊåâÈíÆÂå∫ÂüüÊ∑ªÂä† -->
<div class="row" style="margin-top: 30px;">
    <button class="btn btn-secondary" onclick="resetGame()">Next Student</button>
    <button class="btn" onclick="refreshLeaderboard()" style="background-color: #27ae60;">Refresh Leaderboard</button>
</div>
    </div>
</div>

<script>
    // Global Variables
    let targetText = "";
    let timeLimitSeconds = 180;
    let timerInterval;
    let remainingTime = 0;
    let isPlaying = false;
    let startTime = 0;
    let currentPlayer = "";

    // DOM Elements
    const setupScreen = document.getElementById('setup-screen');
    const gameScreen = document.getElementById('game-screen');
    const resultScreen = document.getElementById('result-screen');
    
    const articleInput = document.getElementById('article-input');
    const timeInput = document.getElementById('time-limit');
    const nameInput = document.getElementById('student-name');
    
    const gameRefText = document.getElementById('game-reference-text');
    const studentInput = document.getElementById('student-input');
    const timerDisplay = document.getElementById('timer-display');
    
    // Live Stats Elements
    const liveSpeedEl = document.getElementById('live-speed');
    const liveAccEl = document.getElementById('live-accuracy');
    const currentPlayerDisplay = document.getElementById('current-player-name');

    // Setup Listeners
    studentInput.addEventListener('input', () => {
        updateRealTimeFeedback();
        updateLiveStats();
    });

    // Prevent pasting to ensure fair play
    studentInput.addEventListener('paste', (e) => {
        e.preventDefault();
        alert("Pasting is not allowed!");
    });

    function showScreen(screenId) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
    }

    function goToGame() {
        targetText = articleInput.value.trim();
        currentPlayer = nameInput.value.trim();
        
        if (!currentPlayer) {
            alert("Please enter student name!");
            return;
        }
        if (!targetText) {
            alert("Please provide text for the competition!");
            return;
        }

        const mins = parseInt(timeInput.value);
        if (isNaN(mins) || mins <= 0) {
            alert("Please enter a valid time limit!");
            return;
        }

        timeLimitSeconds = mins * 60;
        remainingTime = timeLimitSeconds;
        
        // Reset UI
        studentInput.value = "";
        studentInput.disabled = false;
        currentPlayerDisplay.innerText = `Player: ${currentPlayer}`;
        updateTimerDisplay();
        
        // Reset Stats
        liveSpeedEl.innerText = "0";
        liveAccEl.innerText = "100%";
        
        updateRealTimeFeedback();
        showScreen('game-screen');
        
        startTimer();
        setTimeout(() => studentInput.focus(), 100);
    }

    // 1. Real-time Feedback (Coloring)
    function updateRealTimeFeedback() {
        const typed = studentInput.value;
        let html = "";
        
        for (let i = 0; i < targetText.length; i++) {
            const targetChar = targetText[i];
            const typedChar = typed[i];

            if (typedChar === undefined) {
                if (i === typed.length) {
                    html += `<span class="hl-current">${targetChar}</span>`;
                } else {
                    html += `<span>${targetChar}</span>`;
                }
            } else {
                if (typedChar === targetChar) {
                    html += `<span class="hl-correct">${targetChar}</span>`;
                } else {
                    html += `<span class="hl-wrong">${targetChar}</span>`;
                }
            }
        }

        if (typed.length > targetText.length) {
            const extra = typed.substring(targetText.length);
            html += `<span class="hl-wrong" style="text-decoration:line-through; opacity:0.7;">${extra}</span>`;
        }

        gameRefText.innerHTML = html;
        
        const currentSpan = gameRefText.querySelector('.hl-current') || gameRefText.querySelector('.hl-wrong:last-child');
        if (currentSpan) {
            currentSpan.scrollIntoView({ behavior: "smooth", block: "center" });
        }
    }

    // 2. Real-time Stats Calculation
    function updateLiveStats() {
        if (!isPlaying) return;

        const stats = calculateStats();
        liveSpeedEl.innerText = stats.wpm;
        liveAccEl.innerText = stats.accuracy + "%";
    }

    function calculateStats() {
        const typedText = studentInput.value;
        let correctCount = 0;
        
        // Calculate correct chars
        const len = Math.min(targetText.length, typedText.length);
        for (let i = 0; i < len; i++) {
            if (targetText[i] === typedText[i]) {
                correctCount++;
            }
        }

        // Time elapsed in minutes
        const timeElapsed = timeLimitSeconds - remainingTime;
        const minutes = timeElapsed / 60;
        const effectiveMinutes = minutes < 0.01 ? 0.01 : minutes; // Avoid division by zero

        // WPM (Words Per Minute)
        // Standard definition: 5 characters = 1 word
        const wpm = Math.round((correctCount / 5) / effectiveMinutes);

        // Accuracy
        const totalTyped = typedText.length;
        const accuracy = totalTyped === 0 ? 100 : Math.round((correctCount / totalTyped) * 100);

        return {
            wpm: wpm,
            accuracy: accuracy,
            correctCount: correctCount
        };
    }

    function startTimer() {
        if (isPlaying) return;
        isPlaying = true;
        startTime = Date.now();
        
        timerInterval = setInterval(() => {
            remainingTime--;
            updateTimerDisplay();
            
            // Update stats every second even if not typing
            updateLiveStats();

            if (remainingTime <= 0) {
                finishGame();
            }
        }, 1000);
    }

    function updateTimerDisplay() {
        const m = Math.floor(remainingTime / 60).toString().padStart(2, '0');
        const s = (remainingTime % 60).toString().padStart(2, '0');
        timerDisplay.innerText = `${m}:${s}`;
        
        if (remainingTime < 10) {
            timerDisplay.style.color = "#c0392b";
        } else {
            timerDisplay.style.color = "#2c3e50";
        }
    }


async function saveToLeaderboard(name, score, wpm, accuracy, correctCount) {
    const scoreData = {
        name: name,
        score: score,
        wpm: wpm,
        accuracy: accuracy,
        correct_chars: correctCount
    };
    
    try {
        const response = await fetch('/submit_score', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(scoreData)
        });
        
        if (response.ok) {
            console.log('Score saved successfully');
            return true; // ËøîÂõûÊàêÂäüÁä∂ÊÄÅ
        } else {
            console.error('Failed to save score');
            // ‰øùÂ≠òÂ§±Ë¥•Êó∂‰ΩøÁî®Êú¨Âú∞Â≠òÂÇ®
            fallbackToLocalStorage(name, score, wpm, accuracy, correctCount);
            return false;
        }
    } catch (error) {
        console.error('Error saving score:', error);
        // ÁΩëÁªúÈîôËØØÊó∂‰ΩøÁî®Êú¨Âú∞Â≠òÂÇ®
        fallbackToLocalStorage(name, score, wpm, accuracy, correctCount);
        return false;
    }
}

async function loadLeaderboard() {
    try {
        const response = await fetch('/get_scores');
        if (response.ok) {
            const scores = await response.json();
            renderLeaderboard(scores);
            return true;
        } else {
            throw new Error('Server response not OK');
        }
    } catch (error) {
        console.error('Error loading scores from server:', error);
        // Â¶ÇÊûúÊúçÂä°Âô®‰∏çÂèØÁî®Ôºå‰ªélocalStorageÂä†ËΩΩ
        const localScores = JSON.parse(localStorage.getItem('english_typing_leaderboard')) || [];
        renderLeaderboard(localScores);
        return false;
    }
}

    function renderLeaderboard(history) {
    const tbody = document.querySelector('#leaderboard-table tbody');
    tbody.innerHTML = "";

    if (history.length === 0) {
        tbody.innerHTML = `
            <tr>
                <td colspan="6" style="text-align: center; color: #999; padding: 20px;">
                    No scores yet. Be the first to compete!
                </td>
            </tr>
        `;
        return;
    }

    // ÊåâÂàÜÊï∞ÊéíÂ∫èÔºàÁ°Æ‰øùÊï∞ÊçÆÊ≠£Á°ÆÊéíÂ∫èÔºâ
    history.sort((a, b) => b.score - a.score);
    
    // Âè™ÊòæÁ§∫Ââç10Âêç
    const topScores = history.slice(0, 10);
    
    topScores.forEach((rec, index) => {
        const rank = index + 1;
        let rankClass = "";
        if(rank === 1) rankClass = "rank-1";
        if(rank === 2) rankClass = "rank-2";
        if(rank === 3) rankClass = "rank-3";

        // È´ò‰∫ÆÊòæÁ§∫ÂΩìÂâçÁé©ÂÆ∂ÁöÑËÆ∞ÂΩï
        const isCurrentPlayer = rec.name === currentPlayer;
        const rowStyle = isCurrentPlayer ? 'style="background-color: #e8f4f8; border-left: 4px solid #3498db;"' : '';
        
        const row = `
            <tr ${rowStyle}>
                <td class="${rankClass}">#${rank}</td>
                <td style="font-weight:bold;">${rec.name} ${isCurrentPlayer ? 'üë§' : ''}</td>
                <td style="font-weight:bold; color:#2c3e50;">${rec.score}</td>
                <td>${rec.wpm}</td>
                <td>${rec.accuracy}%</td>
                <td style="font-size:0.8rem; color:#999;">${rec.date}</td>
            </tr>
        `;
        tbody.innerHTML += row;
    });
    
    // Ê∑ªÂä†ÂΩìÂâçÁé©ÂÆ∂ÊéíÂêç‰ø°ÊÅØÔºàÂ¶ÇÊûú‰∏çÂú®Ââç10ÂêçÔºâ
    const currentPlayerRank = history.findIndex(rec => rec.name === currentPlayer) + 1;
    if (currentPlayerRank > 10 && currentPlayer) {
        const currentPlayerData = history.find(rec => rec.name === currentPlayer);
        if (currentPlayerData) {
            tbody.innerHTML += `
                <tr style="background-color: #f9f9f9; border-top: 2px solid #ddd;">
                    <td colspan="6" style="text-align: center; padding: 10px; color: #666;">
                        Your rank: #${currentPlayerRank} (Score: ${currentPlayerData.score}, WPM: ${currentPlayerData.wpm}, Accuracy: ${currentPlayerData.accuracy}%)
                    </td>
                </tr>
            `;
        }
    }
}


// Êú¨Âú∞Â≠òÂÑ≤ÂÇôÁî®ÊñπÊ°à
function fallbackToLocalStorage(name, score, wpm, accuracy, correctCount) {
    let history = JSON.parse(localStorage.getItem('english_typing_leaderboard')) || [];
    
    const record = {
        name: name,
        score: score,
        wpm: wpm,
        accuracy: accuracy,
        correct_chars: correctCount,
        date: new Date().toLocaleString()
    };
    
    history.push(record);
    history.sort((a, b) => b.score - a.score);
    history = history.slice(0, 50);
    
    localStorage.setItem('english_typing_leaderboard', JSON.stringify(history));
}

// ‰øÆÊîπfinishGameÂáΩÊï∏‰∏≠ÁöÑË™øÁî®
async function finishGame() {
    clearInterval(timerInterval);
    isPlaying = false;
    studentInput.disabled = true;
    
    const stats = calculateStats();
    const finalScore = Math.round(stats.wpm * (stats.accuracy / 100) * 10);

    // ÊòæÁ§∫ÁªìÊûú
    document.getElementById('res-name').innerText = currentPlayer;
    document.getElementById('res-speed').innerText = stats.wpm;
    document.getElementById('res-accuracy').innerText = stats.accuracy + "%";
    document.getElementById('res-count').innerText = stats.correctCount;
    document.getElementById('final-score').innerText = finalScore;

    // ‰øùÂ≠òÂà∞ÊúçÂä°Âô®ÔºåÂπ∂Á≠âÂæÖ‰øùÂ≠òÂÆåÊàê
    await saveToLeaderboard(currentPlayer, finalScore, stats.wpm, stats.accuracy, stats.correctCount);
    
    // Á°Æ‰øù‰øùÂ≠òÂÆåÊàêÂêéÁ´ãÂç≥Âà∑Êñ∞ÊéíË°åÊ¶ú
    await loadLeaderboard();

    showScreen('result-screen');
}


    // ‰øÆÊîπclearLeaderboardÂáΩÊï∏ÔºàÊúçÂãôÂô®Á´ØÊ∏ÖÈô§Ôºâ
async function clearLeaderboard() {
    if(confirm("Are you sure you want to clear the leaderboard history?")) {
        try {
            // ÈÄôË£°ÂèØ‰ª•Ê∑ªÂä†ÊúçÂãôÂô®Á´ØÊ∏ÖÈô§ÂäüËÉΩ
            // Êö´ÊôÇÂè™Ê∏ÖÈô§Êú¨Âú∞
            localStorage.removeItem('english_typing_leaderboard');
            alert("Local history cleared. Server history needs manual cleanup.");
            loadLeaderboard();
        } catch (error) {
            console.error('Error clearing leaderboard:', error);
        }
    }
}

// Âú®È†ÅÈù¢Âä†ËºâÊôÇÂä†ËºâÊéíË°åÊ¶ú
document.addEventListener('DOMContentLoaded', function() {
    loadLeaderboard();
});
    function resetGame() {
        nameInput.value = ""; // Clear name for next student
        showScreen('setup-screen');
    }

    // Prevent accidental backspace navigation
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Backspace' && e.target.tagName !== 'TEXTAREA' && e.target.tagName !== 'INPUT') {
            e.preventDefault();
        }
    });
    async function refreshLeaderboard() {
    try {
        // ÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅ
        const refreshBtn = document.querySelector('button[onclick="refreshLeaderboard()"]');
        const originalText = refreshBtn.textContent;
        refreshBtn.textContent = 'Refreshing...';
        refreshBtn.disabled = true;
        
        await loadLeaderboard();
        
        // ÊÅ¢Â§çÊåâÈíÆÁä∂ÊÄÅ
        refreshBtn.textContent = originalText;
        refreshBtn.disabled = false;
        
        // ÊòæÁ§∫ÊàêÂäüÊ∂àÊÅØ
        showTempMessage('Leaderboard updated!', 'success');
    } catch (error) {
        console.error('Error refreshing leaderboard:', error);
        showTempMessage('Failed to refresh leaderboard', 'error');
    }
}

// ÊòæÁ§∫‰∏¥Êó∂Ê∂àÊÅØÁöÑÂáΩÊï∞
function showTempMessage(message, type) {
    const messageEl = document.createElement('div');
    messageEl.textContent = message;
    messageEl.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 10px 20px;
        background-color: ${type === 'success' ? '#27ae60' : '#e74c3c'};
        color: white;
        border-radius: 5px;
        z-index: 1000;
        animation: fadeInOut 3s forwards;
    `;
    
    document.body.appendChild(messageEl);
    
    setTimeout(() => {
        document.body.removeChild(messageEl);
    }, 3000);
}

// Ê∑ªÂä†CSSÂä®Áîª
const style = document.createElement('style');
style.textContent = `
    @keyframes fadeInOut {
        0% { opacity: 0; transform: translateY(-20px); }
        20% { opacity: 1; transform: translateY(0); }
        80% { opacity: 1; transform: translateY(0); }
        100% { opacity: 0; transform: translateY(-20px); }
    }
`;
document.head.appendChild(style);

</script>

</body>
</html>
